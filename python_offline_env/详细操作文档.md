# build_env.py è¯¦ç»†æ“ä½œæ–‡æ¡£

## ğŸ“‹ ç›®å½•

1. [æ¦‚è¿°](#æ¦‚è¿°)
2. [ç¯å¢ƒå‡†å¤‡](#ç¯å¢ƒå‡†å¤‡)
3. [åŸºæœ¬ä½¿ç”¨](#åŸºæœ¬ä½¿ç”¨)
4. [é«˜çº§ç”¨æ³•](#é«˜çº§ç”¨æ³•)
5. [æ„å»ºæµç¨‹è¯¦è§£](#æ„å»ºæµç¨‹è¯¦è§£)
6. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
7. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)

---

## æ¦‚è¿°

`build_env.py` æ˜¯ä¸€ä¸ªç”¨äºæ„å»º Python ç¦»çº¿ Conda ç¯å¢ƒçš„è‡ªåŠ¨åŒ–è„šæœ¬ã€‚å®ƒå¯ä»¥å°†å¤šä¸ªé¡¹ç›®çš„ä¾èµ–åˆå¹¶ï¼Œåˆ›å»ºä¸€ä¸ªå®Œæ•´çš„ã€å¯ç§»æ¤çš„ Python ç¯å¢ƒï¼Œæ‰“åŒ…æˆ tar.gz æ–‡ä»¶ï¼Œä¾›ç¦»çº¿ Linux æœåŠ¡å™¨ä½¿ç”¨ã€‚

### æ ¸å¿ƒåŠŸèƒ½

- âœ… è‡ªåŠ¨åˆå¹¶å¤šä¸ª `pyproject.toml` æ–‡ä»¶çš„ä¾èµ–
- âœ… æ™ºèƒ½è§£å†³ç‰ˆæœ¬å†²çªï¼ˆé€‰æ‹©æ›´ä¸¥æ ¼çš„ç‰ˆæœ¬ï¼‰
- âœ… ä½¿ç”¨ `uv` å¿«é€Ÿå®‰è£…ä¾èµ–ï¼ˆæ¯” pip å¿« 10-100 å€ï¼‰
- âœ… è‡ªåŠ¨ä¿®å¤ conda/pip ç¯å¢ƒå†²çª
- âœ… æ‰“åŒ…æˆå¯ç§»æ¤çš„ tar.gz æ–‡ä»¶
- âœ… ç”Ÿæˆè‡ªåŠ¨åŒ–å®‰è£…è„šæœ¬

---

## ç¯å¢ƒå‡†å¤‡

### 1. å®‰è£… Conda

**åœ¨ WSL ä¸­å®‰è£… Minicondaï¼š**

```bash
# ä¸‹è½½ Miniconda
wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh

# å®‰è£…
bash Miniconda3-latest-Linux-x86_64.sh

# åˆå§‹åŒ–
source ~/miniconda3/etc/profile.d/conda.sh
conda activate base
```

### 2. å®‰è£… uv

```bash
# åœ¨ Conda base ç¯å¢ƒä¸­å®‰è£…
pip install uv

# æˆ–ä½¿ç”¨å®˜æ–¹å®‰è£…è„šæœ¬
curl -LsSf https://astral.sh/uv/install.sh | sh
```

### 3. éªŒè¯å®‰è£…

```bash
conda --version    # åº”æ˜¾ç¤º conda ç‰ˆæœ¬
uv --version       # åº”æ˜¾ç¤º uv ç‰ˆæœ¬
python3 --version # åº”æ˜¾ç¤º Python ç‰ˆæœ¬
```

---

## åŸºæœ¬ä½¿ç”¨

### å•é¡¹ç›®æ„å»º

```bash
# åŸºæœ¬å‘½ä»¤
python3 build_env.py pyproject.toml

# æŒ‡å®šç¯å¢ƒåç§°
python3 build_env.py pyproject.toml --env-name my_env

# å¼ºåˆ¶é‡å»ºï¼ˆåˆ é™¤å·²å­˜åœ¨çš„ç¯å¢ƒï¼‰
python3 build_env.py pyproject.toml --force
```

### å¤šé¡¹ç›®åˆå¹¶æ„å»º

```bash
# åˆå¹¶ä¸¤ä¸ªé¡¹ç›®çš„ä¾èµ–
python3 build_env.py \
    agent_pyproject.toml \
    mcp_server_pyproject.toml \
    --env-name agent_mcp_merged \
    --force
```

### å®Œæ•´å‘½ä»¤ç¤ºä¾‹

```bash
# åœ¨ WSL Linux æ–‡ä»¶ç³»ç»Ÿä¸­æ„å»ºï¼ˆæ¨èï¼‰
source ~/miniconda3/etc/profile.d/conda.sh
conda activate base
export PATH=$HOME/miniconda3/bin:$PATH
export UV_EXE=/home/user/miniconda3/bin/uv

cd ~/python_offline_env
python3 build_env.py \
    agent_pyproject.toml \
    mcp_server_pyproject.toml \
    --env-name agent_mcp_merged \
    --force
```

---

## é«˜çº§ç”¨æ³•

### å‘½ä»¤è¡Œå‚æ•°

```bash
python3 build_env.py [pyproject_files...] [OPTIONS]
```

**ä½ç½®å‚æ•°ï¼š**
- `pyproject_files`: ä¸€ä¸ªæˆ–å¤šä¸ª `pyproject.toml` æ–‡ä»¶è·¯å¾„ï¼ˆå¿…éœ€ï¼‰

**å¯é€‰å‚æ•°ï¼š**
- `--env-name NAME`: ç¯å¢ƒåç§°ï¼ˆé»˜è®¤ï¼šæ ¹æ® Python ç‰ˆæœ¬è‡ªåŠ¨ç”Ÿæˆï¼‰
- `--env-prefix PATH`: ç¯å¢ƒè·¯å¾„ï¼ˆé»˜è®¤ï¼š`envs/<env-name>`ï¼‰
- `--output PATH`: è¾“å‡º tar.gz æ–‡ä»¶è·¯å¾„ï¼ˆé»˜è®¤ï¼š`dist/<env-name>.tar.gz`ï¼‰
- `--install-script PATH`: å®‰è£…è„šæœ¬è·¯å¾„ï¼ˆé»˜è®¤ï¼š`dist/install_<env-name>.sh`ï¼‰
- `--conda-exe PATH`: Conda å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ï¼ˆé»˜è®¤ï¼š`conda`ï¼‰
- `--uv-exe PATH`: uv å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ï¼ˆé»˜è®¤ï¼š`uv` æˆ– `UV_EXE` ç¯å¢ƒå˜é‡ï¼‰
- `--force`: å¦‚æœç¯å¢ƒå·²å­˜åœ¨åˆ™åˆ é™¤åé‡å»º

### ç¤ºä¾‹ï¼šè‡ªå®šä¹‰è·¯å¾„

```bash
python3 build_env.py pyproject.toml \
    --env-name production \
    --output /path/to/output/production.tar.gz \
    --install-script /path/to/install.sh \
    --force
```

### ç¯å¢ƒå˜é‡

```bash
# æŒ‡å®š uv è·¯å¾„
export UV_EXE=/path/to/uv
python3 build_env.py pyproject.toml

# æŒ‡å®š Conda è·¯å¾„
export CONDA_EXE=/path/to/conda
python3 build_env.py pyproject.toml
```

---

## æ„å»ºæµç¨‹è¯¦è§£

### é˜¶æ®µ 1ï¼šä¾èµ–è§£æä¸åˆå¹¶

**æ­¥éª¤ï¼š**
1. è§£ææ‰€æœ‰ `pyproject.toml` æ–‡ä»¶
2. æå– Python ç‰ˆæœ¬è¦æ±‚
3. æå–ä¾èµ–åˆ—è¡¨
4. åˆå¹¶ä¾èµ–ï¼Œè§£å†³ç‰ˆæœ¬å†²çª

**ç‰ˆæœ¬å†²çªå¤„ç†è§„åˆ™ï¼š**
- Python ç‰ˆæœ¬ï¼šé€‰æ‹©æ›´é«˜çš„ç‰ˆæœ¬ï¼ˆ`>=3.12` å’Œ `>=3.13` â†’ `3.13`ï¼‰
- åŒ…ç‰ˆæœ¬ï¼šé€‰æ‹©æ›´ä¸¥æ ¼çš„ç‰ˆæœ¬ï¼ˆ`>=0.127.0` å’Œ `==0.127.0` â†’ `==0.127.0`ï¼‰

**ç¤ºä¾‹ï¼š**
```
è¾“å…¥ï¼š
  - agent_pyproject.toml: fastapi>=0.127.0
  - mcp_server_pyproject.toml: fastapi==0.127.0

è¾“å‡ºï¼š
  - åˆå¹¶å: fastapi==0.127.0ï¼ˆé€‰æ‹©æ›´ä¸¥æ ¼çš„ç‰ˆæœ¬ï¼‰
```

### é˜¶æ®µ 2ï¼šåˆ›å»º Conda ç¯å¢ƒ

**æ­¥éª¤ï¼š**
1. æ£€æŸ¥ç¯å¢ƒæ˜¯å¦å·²å­˜åœ¨
2. å¦‚æœå­˜åœ¨ä¸”æœªä½¿ç”¨ `--force`ï¼Œåˆ™é€€å‡º
3. å¦‚æœå­˜åœ¨ä¸”ä½¿ç”¨ `--force`ï¼Œåˆ™åˆ é™¤æ—§ç¯å¢ƒ
4. åˆ›å»ºæ–°çš„ Conda ç¯å¢ƒï¼ˆæŒ‡å®š Python ç‰ˆæœ¬ï¼‰

**å‘½ä»¤ï¼š**
```bash
conda create -y -p <env_path> python=<version>
```

### é˜¶æ®µ 3ï¼šå®‰è£…ä¾èµ–

**æ­¥éª¤ï¼š**
1. å°è¯•åœ¨ç¯å¢ƒä¸­å®‰è£… `uv`ï¼ˆå¦‚æœç³»ç»Ÿæ²¡æœ‰ï¼‰
2. ç”Ÿæˆ `requirements.txt` æ–‡ä»¶
3. ä½¿ç”¨ `uv pip install` å®‰è£…æ‰€æœ‰ä¾èµ–

**ä¼˜åŠ¿ï¼š**
- `uv` æ¯” `pip` å¿« 10-100 å€
- è‡ªåŠ¨å¤„ç†ä¾èµ–è§£æ
- æ”¯æŒå¹¶è¡Œä¸‹è½½

### é˜¶æ®µ 4ï¼šç¯å¢ƒä¿®å¤

**é—®é¢˜ï¼š** `pip` å®‰è£…åŒ…æ—¶å¯èƒ½è¦†ç›– `conda` ç®¡ç†çš„æ–‡ä»¶ï¼Œå¯¼è‡´ `conda-pack` æŠ¥é”™

**è§£å†³æ–¹æ¡ˆï¼š**
1. é‡æ–°å®‰è£…è¢«è¦†ç›–çš„ conda åŒ…ï¼š
   - `python`
   - `setuptools`
   - `wheel`
   - `ncurses`ï¼ˆLinux/WSLï¼‰

**å‘½ä»¤ï¼š**
```bash
conda install -p <env_path> --force-reinstall -y python setuptools wheel ncurses
```

### é˜¶æ®µ 5ï¼šæ‰“åŒ…ç¯å¢ƒ

**æ­¥éª¤ï¼š**
1. å®‰è£… `conda-pack`
2. ä½¿ç”¨ `conda-pack` æ‰“åŒ…ç¯å¢ƒ
3. ä½¿ç”¨ `--arcroot` å‚æ•°ç¡®ä¿è§£å‹åæœ‰ä¸€çº§ç›®å½•

**æ‰“åŒ…å‘½ä»¤ï¼š**
```bash
conda-pack -p <env_path> -o <tar_path> --arcroot <env_name> --ignore-missing-files
```

**å…³é”®å‚æ•°ï¼š**
- `--arcroot`: æŒ‡å®šè§£å‹åçš„æ ¹ç›®å½•åç§°
- `--ignore-missing-files`: å¿½ç•¥ç¼ºå¤±æ–‡ä»¶ï¼ˆå¤„ç†ç¯å¢ƒä¸ä¸€è‡´é—®é¢˜ï¼‰

### é˜¶æ®µ 6ï¼šç”Ÿæˆè¾…åŠ©æ–‡ä»¶

**ç”Ÿæˆçš„æ–‡ä»¶ï¼š**
1. `install_<env_name>.sh`: è‡ªåŠ¨åŒ–å®‰è£…è„šæœ¬
2. `<env_name>_requirements.txt`: ä¾èµ–åˆ—è¡¨
3. `<env_name>_manifest.txt`: æ„å»ºä¿¡æ¯
4. `<env_name>_pyproject.toml`: åˆå¹¶åçš„é…ç½®
5. `<env_name>_uv.lock`: é”å®šæ–‡ä»¶ï¼ˆå¦‚æœæˆåŠŸç”Ÿæˆï¼‰

---

## å¸¸è§é—®é¢˜

### Q1: æ„å»ºå¤±è´¥ï¼Œæç¤º "conda æœªæ‰¾åˆ°"

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# ç¡®ä¿ Conda å·²å®‰è£…å¹¶åˆå§‹åŒ–
source ~/miniconda3/etc/profile.d/conda.sh
conda activate base

# æˆ–æŒ‡å®š Conda è·¯å¾„
python3 build_env.py pyproject.toml --conda-exe /path/to/conda
```

### Q2: æ„å»ºå¤±è´¥ï¼Œæç¤º "uv æœªæ‰¾åˆ°"

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# å®‰è£… uv
pip install uv

# æˆ–æŒ‡å®š uv è·¯å¾„
export UV_EXE=/path/to/uv
python3 build_env.py pyproject.toml
```

### Q3: åœ¨ WSL ä¸­æ„å»ºæ—¶ï¼Œåˆ é™¤ç¯å¢ƒç›®å½•å¤±è´¥

**åŸå› ï¼š** WSL è®¿é—® Windows æ–‡ä»¶ç³»ç»Ÿï¼ˆ`/mnt/c/`ï¼‰æ—¶ï¼Œæ–‡ä»¶å¯èƒ½è¢«é”å®š

**è§£å†³æ–¹æ¡ˆï¼š**
1. **æ¨è**ï¼šåœ¨ WSL Linux æ–‡ä»¶ç³»ç»Ÿä¸­æ„å»º
   ```bash
   # å¤åˆ¶æ–‡ä»¶åˆ° WSL
   cp -r /mnt/c/Users/.../python_offline_env ~/python_offline_env
   
   # åœ¨ WSL ä¸­æ„å»º
   cd ~/python_offline_env
   python3 build_env.py ...
   ```

2. **å¤‡é€‰**ï¼šä½¿ç”¨ Windows PowerShell åˆ é™¤é”å®šæ–‡ä»¶
   ```powershell
   Remove-Item -Path "C:\...\envs\env_name" -Recurse -Force
   ```

### Q4: conda-pack æŠ¥é”™ "Files managed by conda were found to have been deleted/overwritten"

**åŸå› ï¼š** `pip` è¦†ç›–äº† `conda` ç®¡ç†çš„æ–‡ä»¶

**è§£å†³æ–¹æ¡ˆï¼š**
- è„šæœ¬å·²è‡ªåŠ¨å¤„ç†ï¼šåœ¨æ‰“åŒ…å‰ä¼šé‡æ–°å®‰è£…è¢«è¦†ç›–çš„åŒ…
- å¦‚æœä»ç„¶å¤±è´¥ï¼Œè„šæœ¬ä¼šä½¿ç”¨ `--ignore-missing-files` é€‰é¡¹

### Q5: æ„å»ºæ—¶é—´è¿‡é•¿

**ä¼˜åŒ–å»ºè®®ï¼š**
1. ä½¿ç”¨ `uv`ï¼ˆå·²é»˜è®¤ä½¿ç”¨ï¼Œæ¯” pip å¿«å¾ˆå¤šï¼‰
2. åœ¨ WSL Linux æ–‡ä»¶ç³»ç»Ÿä¸­æ„å»ºï¼ˆé¿å… Windows æ–‡ä»¶ç³»ç»Ÿæ€§èƒ½é—®é¢˜ï¼‰
3. ç¡®ä¿ç½‘ç»œè¿æ¥ç¨³å®šï¼ˆä¸‹è½½ä¾èµ–åŒ…ï¼‰

### Q6: æ‰“åŒ…åçš„æ–‡ä»¶å¤ªå¤§

**åŸå› ï¼š** åŒ…å«å®Œæ•´çš„ Python è§£é‡Šå™¨å’Œæ‰€æœ‰ä¾èµ–

**æ­£å¸¸å¤§å°ï¼š**
- Python 3.12 åŸºç¡€ç¯å¢ƒï¼š~100-200 MB
- åŒ…å«å¸¸ç”¨ä¾èµ–ï¼ˆpandas, numpy ç­‰ï¼‰ï¼š~300-500 MB
- åŒ…å«æ·±åº¦å­¦ä¹ åº“ï¼š~1-2 GB

**ä¼˜åŒ–å»ºè®®ï¼š**
- åªåŒ…å«å¿…è¦çš„ä¾èµ–
- ä½¿ç”¨ `--no-cache` é€‰é¡¹ï¼ˆå¦‚æœæ”¯æŒï¼‰

---

## æœ€ä½³å®è·µ

### 1. æ„å»ºç¯å¢ƒé€‰æ‹©

**æ¨èï¼š** åœ¨ WSL Linux æ–‡ä»¶ç³»ç»Ÿä¸­æ„å»º
- âœ… é¿å…æ–‡ä»¶é”å®šé—®é¢˜
- âœ… æ€§èƒ½æ›´å¥½
- âœ… æ›´ç¨³å®š

**ä¸æ¨èï¼š** åœ¨ Windows æ–‡ä»¶ç³»ç»Ÿï¼ˆ`/mnt/c/`ï¼‰ä¸­æ„å»º
- âŒ å¯èƒ½é‡åˆ°æ–‡ä»¶é”å®šé—®é¢˜
- âŒ æ€§èƒ½è¾ƒå·®

### 2. ä¾èµ–ç®¡ç†

**å»ºè®®ï¼š**
- ä½¿ç”¨ç²¾ç¡®ç‰ˆæœ¬ï¼ˆ`==`ï¼‰è€Œä¸æ˜¯èŒƒå›´ç‰ˆæœ¬ï¼ˆ`>=`ï¼‰
- å®šæœŸæ›´æ–°ä¾èµ–å¹¶é‡æ–°æ„å»º
- è®°å½•æ„å»ºæ—¶çš„ä¾èµ–ç‰ˆæœ¬

### 3. ç‰ˆæœ¬æ§åˆ¶

**å»ºè®®ï¼š**
- å°† `pyproject.toml` æ–‡ä»¶çº³å…¥ç‰ˆæœ¬æ§åˆ¶
- è®°å½•æ¯æ¬¡æ„å»ºçš„ç¯å¢ƒåç§°å’Œæ„å»ºæ—¶é—´
- ä¿å­˜ `manifest.txt` æ–‡ä»¶ç”¨äºè¿½æº¯

### 4. éƒ¨ç½²æµç¨‹

**æ¨èæµç¨‹ï¼š**
1. åœ¨å¼€å‘æœºå™¨ä¸Šæ„å»ºç¯å¢ƒ
2. æµ‹è¯•æ„å»ºäº§ç‰©ï¼ˆè§£å‹ã€æ¿€æ´»ã€è¿è¡Œï¼‰
3. å°† tar.gz æ–‡ä»¶ä¼ è¾“åˆ°ç¦»çº¿æœåŠ¡å™¨
4. åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œå®‰è£…è„šæœ¬
5. éªŒè¯ç¯å¢ƒå¯ç”¨æ€§

### 5. å¤šç¯å¢ƒç®¡ç†

**å»ºè®®ï¼š**
- ä¸ºä¸åŒé¡¹ç›®ä½¿ç”¨ä¸åŒçš„ç¯å¢ƒåç§°
- ä½¿ç”¨æœ‰æ„ä¹‰çš„å‘½åï¼ˆå¦‚ `production_env`, `dev_env`ï¼‰
- å®šæœŸæ¸…ç†ä¸éœ€è¦çš„ç¯å¢ƒ

---

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šæ„å»ºç”Ÿäº§ç¯å¢ƒ

```bash
# 1. å‡†å¤‡æ–‡ä»¶
cd ~/python_offline_env

# 2. æ„å»ºç¯å¢ƒ
python3 build_env.py \
    production/pyproject.toml \
    --env-name production_env \
    --force

# 3. æ£€æŸ¥æ„å»ºç»“æœ
ls -lh dist/production_env.tar.gz

# 4. æµ‹è¯•è§£å‹
cd /tmp
tar -xzf ~/python_offline_env/dist/production_env.tar.gz
ls -la  # åº”çœ‹åˆ° production_env/ ç›®å½•
```

### ç¤ºä¾‹ 2ï¼šåˆå¹¶å¤šä¸ªé¡¹ç›®

```bash
python3 build_env.py \
    frontend/pyproject.toml \
    backend/pyproject.toml \
    shared/pyproject.toml \
    --env-name fullstack_env \
    --force
```

### ç¤ºä¾‹ 3ï¼šè‡ªå®šä¹‰è¾“å‡ºè·¯å¾„

```bash
python3 build_env.py pyproject.toml \
    --env-name custom_env \
    --output /data/environments/custom_env.tar.gz \
    --install-script /data/scripts/install_custom.sh \
    --force
```

---

## è¾“å‡ºæ–‡ä»¶è¯´æ˜

### 1. `<env_name>.tar.gz`

**å†…å®¹ï¼š** å®Œæ•´çš„ Conda ç¯å¢ƒå‹ç¼©åŒ…

**ç»“æ„ï¼š**
```
agent_mcp_merged/
â”œâ”€â”€ bin/          # å¯æ‰§è¡Œæ–‡ä»¶
â”œâ”€â”€ lib/          # Python åº“
â”œâ”€â”€ include/      # å¤´æ–‡ä»¶
â”œâ”€â”€ share/        # å…±äº«èµ„æº
â””â”€â”€ ...
```

**å¤§å°ï¼š** é€šå¸¸ 200-500 MBï¼ˆå‹ç¼©åï¼‰

### 2. `install_<env_name>.sh`

**åŠŸèƒ½ï¼š** è‡ªåŠ¨åŒ–å®‰è£…è„šæœ¬

**ç”¨æ³•ï¼š**
```bash
bash install_agent_mcp_merged.sh [tar_file] [target_dir]
```

**é»˜è®¤å€¼ï¼š**
- `tar_file`: è„šæœ¬åŒç›®å½•ä¸‹çš„ tar.gz æ–‡ä»¶
- `target_dir`: `$HOME/miniconda3/envs/<env_name>`

### 3. `<env_name>_requirements.txt`

**å†…å®¹ï¼š** æ‰€æœ‰ä¾èµ–åŒ…çš„åˆ—è¡¨

**æ ¼å¼ï¼š**
```
aiohttp==3.13.2
fastapi==0.127.0
...
```

### 4. `<env_name>_manifest.txt`

**å†…å®¹ï¼š** æ„å»ºä¿¡æ¯

**åŒ…å«ï¼š**
- Python ç‰ˆæœ¬
- ç¯å¢ƒåç§°
- æ„å»ºæ—¶é—´
- ä¾èµ–åŒ…åˆ—è¡¨
- æ–‡ä»¶æ¸…å•

---

## åœ¨ç¦»çº¿æœåŠ¡å™¨ä¸Šéƒ¨ç½²

### æ­¥éª¤ 1ï¼šä¼ è¾“æ–‡ä»¶

```bash
# å°†ä»¥ä¸‹æ–‡ä»¶ä¼ è¾“åˆ°ç¦»çº¿æœåŠ¡å™¨ï¼š
# - agent_mcp_merged.tar.gz
# - install_agent_mcp_merged.sh
```

### æ­¥éª¤ 2ï¼šè¿è¡Œå®‰è£…è„šæœ¬

```bash
# åœ¨ç¦»çº¿æœåŠ¡å™¨ä¸Š
bash install_agent_mcp_merged.sh
```

### æ­¥éª¤ 3ï¼šæ¿€æ´»ç¯å¢ƒ

```bash
source ~/miniconda3/envs/agent_mcp_merged/bin/activate
```

### æ­¥éª¤ 4ï¼šéªŒè¯

```bash
python --version  # åº”æ˜¾ç¤º Python 3.12.x
pip list          # åº”æ˜¾ç¤ºæ‰€æœ‰å·²å®‰è£…çš„åŒ…
```

---

## æ•…éšœæ’æŸ¥

### æ£€æŸ¥æ„å»ºæ—¥å¿—

æ„å»ºè¿‡ç¨‹ä¸­ä¼šè¾“å‡ºè¯¦ç»†çš„æ—¥å¿—ï¼ŒåŒ…æ‹¬ï¼š
- `[INFO]`: ä¿¡æ¯æ€§æ¶ˆæ¯
- `[WARN]`: è­¦å‘Šæ¶ˆæ¯
- `[ERROR]`: é”™è¯¯æ¶ˆæ¯
- `[RUN]`: æ‰§è¡Œçš„å‘½ä»¤

### å¸¸è§é”™è¯¯ç 

- **é€€å‡ºç  1**: å‘½ä»¤æ‰§è¡Œå¤±è´¥
- **é€€å‡ºç  0**: æˆåŠŸ

### è°ƒè¯•æ¨¡å¼

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š
1. æ£€æŸ¥æ„å»ºæ—¥å¿—
2. æ‰‹åŠ¨æ‰§è¡Œå¤±è´¥çš„å‘½ä»¤
3. æ£€æŸ¥ç¯å¢ƒçŠ¶æ€ï¼š`conda list -p <env_path>`

---

## è”ç³»ä¸æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. Conda å’Œ uv æ˜¯å¦æ­£ç¡®å®‰è£…
2. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
3. ç£ç›˜ç©ºé—´æ˜¯å¦å……è¶³
4. æ–‡ä»¶æƒé™æ˜¯å¦æ­£ç¡®

